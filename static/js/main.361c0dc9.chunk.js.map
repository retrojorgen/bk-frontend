{"version":3,"sources":["api.js","components/Buttons.js","components/FormLayout.js","components/FormList.js","App.js","index.js"],"names":["sanitizeData","data","arbeidsreiser","map","record","km","parseInt","antall","besoeksreiser","utgifterBomFergeEtc","getData","a","settings","method","headers","Accept","body","JSON","stringify","fetch","fetchResponse","json","Button","styled","button","ResetButton","SmallButton","DeleteButton","Fieldset","fieldset","Legend","legend","Label","label","Input","input","InputRow","div","FormList","records","setRecords","key","type","placeholder","value","onChange","e","index","target","onClick","filter","FormWrapper","App","useState","workTravel","setWorkTravel","visitTravel","setVisitTravel","expenses","setExpenses","calculatedDeducation","setCalculatedDeducation","preventDefault","calculatedResponse","reisefradrag","className","onSubmit","calculateDeduction","title","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.361c0dc9.chunk.js","sourcesContent":["/**\r\n * Clean data, and convert strings to int\r\n * @param {*} data\r\n * @returns\r\n */\r\nconst sanitizeData = (data) => {\r\n  return {\r\n    arbeidsreiser: data[\"arbeidsreiser\"].map((record) => {\r\n      return { km: parseInt(record.km), antall: parseInt(record.antall) };\r\n    }),\r\n    besoeksreiser: data[\"besoeksreiser\"].map((record) => {\r\n      return { km: parseInt(record.km), antall: parseInt(record.antall) };\r\n    }),\r\n    utgifterBomFergeEtc: parseInt(data[\"utgifterBomFergeEtc\"]),\r\n  };\r\n};\r\n\r\nconst getData = async (data) => {\r\n  const settings = {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(sanitizeData(data)),\r\n  };\r\n  try {\r\n    const fetchResponse = await fetch(\r\n      `https://9f22opit6e.execute-api.us-east-2.amazonaws.com/default/reisefradrag`,\r\n      settings\r\n    );\r\n    const data = await fetchResponse.json();\r\n    return data;\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n};\r\n\r\nexport default getData;\r\n","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  background-color: var(--blue);\r\n  color: var(--white);\r\n  display: inline-block;\r\n  font-weight: 600;\r\n  font-size: 1.125rem;\r\n  text-align: center;\r\n  border: 3px solid transparent;\r\n  border-radius: 7px;\r\n  padding: 14px 18px;\r\n  cursor: pointer;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\r\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  &:hover {\r\n    background-color: var(--lightBlue);\r\n    border-color: var(--darkBlue);\r\n    color: var(--darkBlue);\r\n  }\r\n`;\r\n\r\nconst ResetButton = styled(Button)`\r\n  background-color: var(--lightBlue);\r\n  color: var(--darkBlue);\r\n`;\r\n\r\nconst SmallButton = styled(Button)`\r\n  font-size: 0.9rem;\r\n  padding: 10px 10px;\r\n`;\r\n\r\nconst DeleteButton = styled.button`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  background-color: transparent;\r\n  padding: 3px;\r\n  font-size: 0.9375rem;\r\n  font-weight: 700;\r\n  border: 0;\r\n  color: var(--darkBlue);\r\n  &:hover {\r\n    background-color: var(--lightBlue);\r\n  }\r\n  transition: background-color 0.15s ease-in-out;\r\n`;\r\n\r\nexport { Button, SmallButton, DeleteButton, ResetButton };\r\n","import styled from \"styled-components\";\r\n\r\nconst Fieldset = styled.fieldset`\r\n  border: 0;\r\n  padding: 0 0 1rem 0;\r\n  margin-bottom: 2rem;\r\n  border-bottom: 2px solid var(--black);\r\n`;\r\n\r\nconst Legend = styled.legend`\r\n  font-size: 1.125rem;\r\n  line-height: 26px;\r\n  font-weight: 700;\r\n  color: var(--blue);\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin-bottom: 0.4rem;\r\n  display: block;\r\n  span {\r\n    display: block;\r\n    font-size: 0.9375rem;\r\n    font-weight: 400;\r\n    margin-bottom: 0.2rem;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  font-size: 1.125rem;\r\n  border: 2px solid var(--black);\r\n  background-color: transparent;\r\n  -webkit-appearance: none;\r\n  box-shadow: none;\r\n  padding: 7.5px 10px;\r\n  line-height: 1.5;\r\n  position: relative;\r\n  max-width: 100%;\r\n  color: var(--black);\r\n`;\r\n\r\nconst InputRow = styled.div`\r\n  padding: 1rem;\r\n`;\r\n\r\nexport { Fieldset, Legend, Label, Input, InputRow };\r\n","// handles form list\r\n\r\nimport { SmallButton, DeleteButton } from \"./Buttons\";\r\nimport { Input, Label, InputRow } from \"./FormLayout\";\r\n\r\nfunction FormList({ records, setRecords }) {\r\n  function addRecord() {\r\n    setRecords([...records, { km: 0, antall: 0 }]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {records.map((record, key) => (\r\n        <InputRow key={key}>\r\n          <Label>\r\n            <span>Distance (km):</span>\r\n            <Input\r\n              type=\"number\"\r\n              placeholder=\"km\"\r\n              value={record.km}\r\n              onChange={(e) =>\r\n                setRecords(\r\n                  records.map((record, index) =>\r\n                    index === key ? { ...record, km: e.target.value } : record\r\n                  )\r\n                )\r\n              }\r\n            />\r\n          </Label>\r\n          <Label>\r\n            <span>Number of trips:</span>\r\n            <Input\r\n              type=\"number\"\r\n              placeholder=\"amount\"\r\n              value={record.antall}\r\n              onChange={(e) =>\r\n                setRecords(\r\n                  records.map((record, index) =>\r\n                    index === key\r\n                      ? { ...record, antall: e.target.value }\r\n                      : record\r\n                  )\r\n                )\r\n              }\r\n            />\r\n          </Label>\r\n          <DeleteButton\r\n            type=\"button\"\r\n            onClick={() =>\r\n              setRecords(records.filter((record, index) => index !== key))\r\n            }\r\n          >\r\n            - remove\r\n          </DeleteButton>\r\n        </InputRow>\r\n      ))}\r\n      <SmallButton type=\"button\" onClick={addRecord}>\r\n        + Add location\r\n      </SmallButton>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FormList;\r\n","// Main application, draws forms and owns state\n\nimport { useState } from \"react\";\nimport getData from \"./api\";\nimport FormList from \"./components/FormList\";\nimport {\n  Legend,\n  Fieldset,\n  Label,\n  Input,\n  InputRow,\n} from \"./components/FormLayout\";\n\nimport { Button, ResetButton } from \"./components/Buttons\";\n\nimport styled from \"styled-components\";\n\nconst FormWrapper = styled.div`\n  max-width: 550px;\n  width: 100%;\n  section {\n    padding: 2rem;\n    @media screen and (max-width: 1023px) {\n      padding: 1rem;\n    }\n  }\n  h1 {\n    margin: 0;\n    font-size: 2.25rem;\n    margin-bottom: 2rem;\n  }\n  .lead {\n    font-size: 1.25rem;\n    line-height: 1.75rem;\n    margin-bottom: 2rem;\n  }\n\n  .controls {\n    button:not(:last-child) {\n      margin-right: 0.5rem;\n    }\n  }\n`;\n\nfunction App() {\n  let [workTravel, setWorkTravel] = useState([]);\n  let [visitTravel, setVisitTravel] = useState([]);\n  let [expenses, setExpenses] = useState([]);\n  let [calculatedDeducation, setCalculatedDeducation] = useState(0);\n\n  function resetData() {\n    setWorkTravel([]);\n    setVisitTravel([]);\n    setExpenses(0);\n    setCalculatedDeducation(0);\n  }\n\n  async function calculateDeduction(e) {\n    e.preventDefault();\n    let calculatedResponse = await getData({\n      arbeidsreiser: workTravel,\n      besoeksreiser: visitTravel,\n      utgifterBomFergeEtc: expenses,\n    });\n    setCalculatedDeducation(calculatedResponse.reisefradrag);\n  }\n\n  return (\n    <FormWrapper>\n      <section>\n        <h1>Calculate travel deduction for travel between home and work</h1>\n        <p className=\"lead\">\n          This will calculate how much you can claim in travel deduction between\n          your home and workplace. The calculator shows the rates for the income\n          year 2020, for use with the tax return you submit in 2021.\n        </p>\n        <form onSubmit={(e) => calculateDeduction(e)}>\n          <Fieldset>\n            <Legend>Number of travelling days per year to the workplace</Legend>\n            <FormList\n              title=\"\"\n              records={workTravel}\n              setRecords={setWorkTravel}\n            />\n          </Fieldset>\n\n          <Fieldset>\n            <Legend>\n              Number of travelling days per year to other locations\n            </Legend>\n            <FormList records={visitTravel} setRecords={setVisitTravel} />\n          </Fieldset>\n          <Fieldset>\n            <Legend>\n              Number of travelling days per year to other locations\n            </Legend>\n            <InputRow>\n              <Label>\n                <span>Input in NOK:</span>\n                <Input\n                  type=\"number\"\n                  placeholder=\"amount\"\n                  value={expenses}\n                  onChange={(e) => setExpenses(e.target.value)}\n                />\n              </Label>\n            </InputRow>\n          </Fieldset>\n          <div className=\"controls\">\n            <Button type=\"submit\">Calculate</Button>\n            <ResetButton type=\"submit\" onClick={resetData} className=\"reset\">\n              Tilbakestill\n            </ResetButton>\n          </div>\n        </form>\n      </section>\n      <section>\n        <h1>Calculated deduction</h1>\n        <p className=\"lead\">{calculatedDeducation} NOK</p>\n      </section>\n    </FormWrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createGlobalStyle } from \"styled-components\";\nimport App from \"./App\";\n\nconst GlobalStyle = createGlobalStyle`\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n\n}\n\n* {\n  box-sizing: border-box;\n}\n\n:root {\n  --blue: #1362ae;\n  --lightBlue: #cde1f9;\n  --darkBlue: #093e61;\n  --white: #fff;\n  --darkDarkBlue: #212529;\n  --black: #1d1d1b;  \n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <>\n      <GlobalStyle />\n      <App />\n    </>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}